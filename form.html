<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8"/>
    <title>
        MalVQuest - Query Form
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
</head>
<body class="min-h-screen bg-white flex items-center justify-center">
    <style>
        #form-main{
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 28rem;
            padding: 2rem;
            background-color: rgba(255, 255, 255, 0.8); 
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)
            }
            @media only screen and (max-width:600px){
            #form-main{
            scale: 0.6;
            }
            }
    </style>
      <div class="absolute inset-0 z-0">
         <img alt="Abstract background image with blue and white gradient patterns" class="w-full h-full object-cover" height="100%" src="./assets/form.jpg" width="100%"/>
      </div>
      <div id="form-main" class="">
         <div class="text-center mb-6">
            <p class="text-3xl font-bold" >
               <a href="index.html" rel="dofollow">MalVQuest</a>
            </p>
         </div>
         <form id="submit-to-google-sheet">
            <div class="mb-4">
               <label class="block text-md font-medium" for="name">Name</label>
               <input id="name"
                  class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  name="Name"
                  type="text"
                  required
                  />
            </div>
            <div class="mb-4">
               <label class="block text-md font-medium" for="email">Email</label>
               <input id="email"
                  class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  name="Email"
                  type="email"
                  required
                  />
            </div>
            <div class="mb-4">
               <label class="block text-md font-medium" for="mobile">Mobile</label>
               <input id="mobile"
                  class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  name="Mobile"
                  type="tel"
                  value="+91 "
                  required
                  />
            </div>
            <div class="mb-4">
               <label class="block text-md font-medium" for="query">Your Query</label>
               <textarea id="query"
                  class="mt-1 block w-full px-3 py-2 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                  name="Query"
                  required
                  ></textarea>
            </div>
            <div>
               <input
                  class="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer"
                  name="submit"
                  type="submit"
                  value="Book Now"
                  />
            </div>
         </form>
         <div id="msgg"></div>
         <script>
            const scriptURL =                       
            "https://script.google.com/macros/s/AKfycbw8lrd_i81uKeBMbVoxAbMjY8J1U1atCgIwOcO4TeJICcLA8ylzb5gCj_sXseAK2Tkrqg/exec";
            const form = document.forms["submit-to-google-sheet"];
            form.addEventListener("submit", (e) => {
              e.preventDefault();
              var formData = new FormData(form);
              var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var mobile = document.getElementById("mobile").value;
            var query = document.getElementById("query").value;
            
            // Append values to the formData
            formData.append("Name", name);
            formData.append("Email", email);
            formData.append("Mobile", mobile);
            formData.append("Query", query);
            console.log('FormData:', formData);
            
              fetch(scriptURL, { method: "POST", body: formData })
                .then((response) => {
                    formData.forEach((value, key) => {
                        console.log(key + ": " + value);
                    });
                    msgg.innerHTML="Booking Registered Successfully"
                    form.reset()
                    setTimeout(function(){
                        msgg.innerHTML=""
                    },4000)
                })
                .catch((error) => {
                  msgg.innerHTML="Error Occured"
                });
            });
         </script>
         <div class="mt-6 text-center">
            <span class="text-md">
                Go to Home Page
                <a class="font-medium text-indigo-600 hover:text-indigo-500" href="index.html" style="color: rgb(85, 93, 168);">Home</a>
            </span>
            <div class="mt-4 flex justify-center space-x-4">
               <span class="text-sm">
               <a class="font-medium text-indigo-600 hover:text-indigo-500" href="index.html" style="color: rgb(59, 59, 59);">
               Â© MallQuest
               </a>
               </span>
               <span class="text-sm">
               <a class="font-medium text-indigo-600 hover:text-indigo-500" href="index.html#contact" style="color: rgb(59, 59, 59);">
               Contact
               </a>
               </span>
            </div>
         </div>
      </div>
   </body>
</html>